/*!
 * JQuery Validation Wrapper Plugin v.1.19.1 - 27 Jun 19
 * Works well for jQuery Validation Plugin v1.19.1
 * Copyright (c) 2019 Siddhant Naik
 *
 * Plugin Name: validateWrapper
 * Description: This wrapper plugin will run above the JQuery Validation Plugin.
 * Basically, the wrapper plugin will help you to validate form elements by adding a few lines of code.
 * Just use the form selector and call the wrapper plugin and the form will start validating.
*/
!function(e,t,s,i){"use strict";let n,r="validateWrapper";function a(t,s){this._element=t,this._pluginName=r,this._defaults=e.fn[r].defaults,this._settings=e.extend({},this._defaults,s),delete this._settings.messages,delete this._settings.groups,delete this._settings.require_from_group,s.messages&&"object"!=typeof s.messages&&delete s.messages,s.groups&&"object"!=typeof s.groups&&delete s.groups,s.require_from_group&&"object"!=typeof s.require_from_group&&delete s.require_from_group,this._messages=e.extend({},this._defaults.messages,s.messages),this._groups=e.extend({},this._defaults.groups,s.groups),this._require_from_group=e.extend({},this._defaults.require_from_group,s.require_from_group),this._init()}e.extend(a.prototype,{_init:function(){n=this,this._build(),this._validate()},_build:function(){this.$_element=e(this._element)},_bindEvents:function(t,s){e(t).on(s+"."+n._pluginName,function(){let s=e("form");s.valid()&&(n._callback(s),n._settings.destroyOnCallback&&n._unbindEvents(t))})},_unbindEvents:function(t){e(t).off("."+this._pluginName)},_destroy:function(e){e.destroy(),this.$_element.removeData()},_validate:function(){var t;let s={highlight:"function"==typeof this._settings.highlight?this._settings.highlight:this._highlight,unhighlight:"function"==typeof this._settings.unhighlight?this._settings.unhighlight:this._unHighlight,invalidHandler:"function"==typeof this._settings.invalidHandler?this._settings.invalidHandler:this._inValidHandler,groups:"object"==typeof this._groups?this._groups:null,errorPlacement:"function"==typeof this._settings.errorPlacement?this._settings.errorPlacement:this._errorPlacement,submitHandler:function(e){n._callback(e),n._settings.destroyOnCallback&&n._destroy(t)}},i=e.extend({},this._settings,s);t=this.$_element.validate(i),this._additionalMethod(t)},_additionalMethod:function(t){jQuery.extend(jQuery.validator.messages,this._messages);for(let e in this._require_from_group)jQuery.validator.addClassRules(e,{require_from_group:[this._require_from_group[e],"."+e]});for(let t in this._require_from_group)for(let s in this._messages)t==s&&""!=this._messages[s]&&e("."+s).each(function(){e("#"+this.id,n.$_element).length&&e("#"+this.id,n.$_element).rules("add",{messages:{require_from_group:n._messages[s]}})});for(let t in this._groups)for(let s in this._messages)t==s&&""!=this._messages[s]&&e("."+s).each(function(){e("#"+this.id,n.$_element).length&&e("#"+this.id,n.$_element).rules("add",{messages:{required:n._messages[s]}})});jQuery.validator.addMethod("ckeditor_required",function(t,s){let i=e(s).attr("id"),n=CKEDITOR.instances[i],r=CKEDITOR.instances[i].getData().replace(/<[^>]*>/gi,"").trim();return 0===r.length?e(s).val(r):e(s).val(n.getData()),e(s).val().length>0}),"function"==typeof this._settings.addToValidator&&this._settings.addToValidator.call(),this._settings.validateOnLoad&&t.form(),this._settings.validateOnClick&&this._bindEvents("._validate_oc","click"),this._settings.validateOnKeyPress&&this._bindEvents("._validate_kp","keypress")},_highlight:function(t,s,i){jQuery(t).next().hasClass("input-group-append")&&jQuery(t).next().children().addClass(s).removeClass(i),jQuery(t).prev().hasClass("input-group-prepend")&&jQuery(t).prev().children().addClass(s).removeClass(i),jQuery(t).is("input[type=radio]")?e("input[name='"+t.name+"']").addClass(s).removeClass(i):jQuery(t).addClass(s).removeClass(i)},_unHighlight:function(t,s,i){jQuery(t).next().hasClass("input-group-append")&&jQuery(t).next().children().removeClass(s).addClass(i),jQuery(t).prev().hasClass("input-group-prepend")&&jQuery(t).prev().children().removeClass(s).addClass(i),jQuery(t).is("input[type=radio]")?e("input[name='"+t.name+"']").removeClass(s).addClass(i):jQuery(t).removeClass(s).addClass(i)},_inValidHandler:function(t,s){s.numberOfInvalids()&&e("html, body").animate({scrollTop:e(s.errorList[0].element).offset().top-100},100)},_errorPlacement:function(t,s){if("true"==s.attr("hide-validation-message"))return!0;if(s.next().hasClass("input-group-append")||s.prev().hasClass("input-group-prepend")||s.hasClass("append-msg-to-parent"))t.insertAfter(s.parent());else if(s.is("input[type=checkbox]")||s.is("input[type=radio]"))s.closest(".form-check").parent().append(t);else if(s.hasClass("required-from-group"))for(let i in n._require_from_group){let n=e("."+i+":last");if(e(s).attr("name")==e(n).attr("name")){t.insertAfter(n.parent().parent());break}}else if(s.hasClass("group-in-one")){for(let i in n._groups)if(s.hasClass(i)){let s=e("."+i+":last");t.insertAfter(s.parent().parent());break}}else t.insertAfter(s)},_callback:function(e){let t=this._settings.onComplete;"function"==typeof t?t(e):console.log("Default callback function is called..")}}),e.fn[r]=function(t){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new a(this,t))}),this},e.fn[r].defaults={ignore:":hidden:not(.hidden-required, .editor-required), .ignore",errorClass:"error",errorElement:"div",validClass:"success",highlight:null,unhighlight:null,invalidHandler:null,errorPlacement:null,onComplete:null,groups:null,require_from_group:null,addToValidator:null,validateOnLoad:!1,validateOnClick:!1,validateOnKeyPress:!1,destroyOnCallback:!1,messages:{remote:jQuery.validator.format("{0} is not available."),require_from_group:jQuery.validator.format("Please fill out all {0} fields.")}}}(jQuery,window,document);